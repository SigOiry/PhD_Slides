axis.text.x = element_text(size = 30),
axis.text.y = element_text(size = 30),
axis.title.x = element_text(size = 35),
axis.title.y = element_text(size = 35),
)
ggplot(df2,
aes(x = YEAR,
y = Production,
color = Species,
group = Species,
along = alongVar)) +
geom_line(size = 1.2) +
scale_color_manual(values = colscale) +
labs(
title = "Production over Years by Species",
x = "Year",
y = "Production (Tons)",
color = "Species"
) +
theme_bw(base_size = 14) +
theme(
plot.title  = element_text(hjust = 0.5, face = "bold", size = 40),
legend.position = c(0.2,0.8),
legend.text = element_text(face = "italic", size = 30),
legend.title = element_text(size = 35),
legend.key.size = unit(1,"cm"),
axis.text.x = element_text(size = 30),
axis.text.y = element_text(size = 30),
axis.title.x = element_text(size = 35),
axis.title.y = element_text(size = 35),
)
max_prod <- max(df$Production
)
max_prod
max_prod <- max(df$Production, na.rm = T)
max_prod
min_year
p <- ggplot(df2,
aes(x = YEAR,
y = Production,
color = Species,
group = Species,
along = alongVar)) +
geom_line(size = 1.2) +
scale_color_manual(values = colscale) +
ylim(c(0,max_prod))+
xlim(c(1900,2010))+
labs(
title = "Production over Years by Species",
x = "Year",
y = "Production (Tons)",
color = "Species"
) +
theme_bw(base_size = 14) +
theme(
plot.title  = element_text(hjust = 0.5, face = "bold", size = 40),
legend.position = c(0.2,0.8),
legend.text = element_text(face = "italic", size = 30),
legend.title = element_text(size = 35),
legend.key.size = unit(1,"cm"),
axis.text.x = element_text(size = 30),
axis.text.y = element_text(size = 30),
axis.title.x = element_text(size = 35),
axis.title.y = element_text(size = 35),
) +
transition_reveal(alongVar)
# render it
# animate(p, nframes = 50, fps = 50, width = 800, height = 600, loop = F)
rendered <- animate(p,  nframes = 50, fps = 50, width = 1500, height = 1080, end_pause = 20, rewind = FALSE, renderer = gifski_renderer(loop = FALSE))
anim_save("Images/Part2/Oyster_angulata.gif", animation = rendered)
df2 <- df %>%
mutate(alongVar = if_else(Species == "C. gigas", YEAR, min_year))
colscale <- c("C. gigas" = "#377eb8","O. edulis" = "#e41a1c","C. angulata" = "#4daf4a")
p <- ggplot(df2,
aes(x = YEAR,
y = Production,
color = Species,
group = Species,
along = alongVar)) +
geom_line(size = 1.2) +
scale_color_manual(values = colscale) +
ylim(c(0,max_prod))+
xlim(c(1900,2010))+
labs(
title = "Production over Years by Species",
x = "Year",
y = "Production (Tons)",
color = "Species"
) +
theme_bw(base_size = 14) +
theme(
plot.title  = element_text(hjust = 0.5, face = "bold", size = 40),
legend.position = c(0.2,0.8),
legend.text = element_text(face = "italic", size = 30),
legend.title = element_text(size = 35),
legend.key.size = unit(1,"cm"),
axis.text.x = element_text(size = 30),
axis.text.y = element_text(size = 30),
axis.title.x = element_text(size = 35),
axis.title.y = element_text(size = 35),
) +
transition_reveal(alongVar)
# render it
# animate(p, nframes = 50, fps = 50, width = 800, height = 600, loop = F)
rendered <- animate(p,  nframes = 50, fps = 50, width = 1500, height = 1080, end_pause = 20, rewind = FALSE, renderer = gifski_renderer(loop = FALSE))
anim_save("Images/Part2/Oyster_gigas.gif", animation = rendered)
df <- readxl::read_excel("Data/Part2/Prod_oyster.xlsx") %>%
mutate(across(-YEAR, ~ interpolate_column(.x, YEAR))) %>%
pivot_longer(-YEAR, names_to = "Species", values_to = "Production") %>%
mutate(Production = case_when(Production == -99 ~ NA,
T ~ Production*100)),
df %>%
ggplot(aes(x = YEAR, y = Production, color = Species)) +
geom_line(size = 1.2) + # thicker lines
scale_color_brewer(palette = "Set1") + # nice color palette
labs(
title = "Production over Years by Species",
x = "Year",
y = "Production (Tons)",
color = "Species"
) +
theme_minimal(base_size = 14) + # clean theme with bigger base text
theme(
plot.title = element_text(hjust = 0.5, face = "bold"),
legend.position = "right",
legend.text = element_text(face = "italic") # italic legend text
)
df <- readxl::read_excel("Data/Part2/Prod_oyster.xlsx") %>%
mutate(across(-YEAR, ~ interpolate_column(.x, YEAR))) %>%
pivot_longer(-YEAR, names_to = "Species", values_to = "Production") %>%
mutate(Production = case_when(Production == -99 ~ NA,
T ~ Production*100),
Species = case_when(Species == "angulata" ~ "C. angulata",
Species == "Edulis" ~ "O. edulis",
T ~ "C. gigas"),
years = YEAR)
df %>%
ggplot(aes(x = YEAR, y = Production, color = Species)) +
geom_line(size = 1.2) + # thicker lines
scale_color_brewer(palette = "Set1") + # nice color palette
labs(
title = "Production over Years by Species",
x = "Year",
y = "Production (Tons)",
color = "Species"
) +
theme_minimal(base_size = 14) + # clean theme with bigger base text
theme(
plot.title = element_text(hjust = 0.5, face = "bold"),
legend.position = "right",
legend.text = element_text(face = "italic") # italic legend text
)
min_year <- min(df$YEAR, na.rm = TRUE)
max_prod <- max(df$Production, na.rm = T)
df2 <- df %>%
mutate(alongVar = if_else(Species == "C. gigas", YEAR, min_year))
colscale <- c("C. gigas" = "#377eb8","O. edulis" = "#e41a1c","C. angulata" = "#4daf4a")
p <- ggplot(df2,
aes(x = YEAR,
y = Production,
color = Species,
group = Species,
along = alongVar)) +
geom_line(size = 1.2) +
scale_color_manual(values = colscale) +
ylim(c(0,max_prod))+
xlim(c(1900,2010))+
labs(
title = "Production over Years by Species",
x = "Year",
y = "Production (Tons)",
color = "Species"
) +
theme_bw(base_size = 14) +
theme(
plot.title  = element_text(hjust = 0.5, face = "bold", size = 40),
legend.position = c(0.2,0.8),
legend.text = element_text(face = "italic", size = 30),
legend.title = element_text(size = 35),
legend.key.size = unit(1,"cm"),
axis.text.x = element_text(size = 30),
axis.text.y = element_text(size = 30),
axis.title.x = element_text(size = 35),
axis.title.y = element_text(size = 35),
) +
transition_reveal(alongVar)
# render it
# animate(p, nframes = 50, fps = 50, width = 800, height = 600, loop = F)
rendered <- animate(p,  nframes = 50, fps = 50, width = 1500, height = 1080, end_pause = 20, rewind = FALSE, renderer = gifski_renderer(loop = FALSE))
anim_save("Images/Part2/Oyster_gigas.gif", animation = rendered)
df2 <- df %>%
mutate(alongVar = if_else(Species == "C. angulata", YEAR, min_year))
dplyr::filter(Species != "C. gigas")
colscale <- c("C. gigas" = "#377eb8","O. edulis" = "#e41a1c","C. angulata" = "#4daf4a")
p <- ggplot(df2,
aes(x = YEAR,
y = Production,
color = Species,
group = Species,
along = alongVar)) +
geom_line(size = 1.2) +
scale_color_manual(values = colscale) +
ylim(c(0,max_prod))+
xlim(c(1900,2010))+
labs(
title = "Production over Years by Species",
x = "Year",
y = "Production (Tons)",
color = "Species"
) +
theme_bw(base_size = 14) +
theme(
plot.title  = element_text(hjust = 0.5, face = "bold", size = 40),
legend.position = c(0.2,0.8),
legend.text = element_text(face = "italic", size = 30),
legend.title = element_text(size = 35),
legend.key.size = unit(1,"cm"),
axis.text.x = element_text(size = 30),
axis.text.y = element_text(size = 30),
axis.title.x = element_text(size = 35),
axis.title.y = element_text(size = 35),
) +
transition_reveal(alongVar)
# render it
# animate(p, nframes = 50, fps = 50, width = 800, height = 600, loop = F)
rendered <- animate(p,  nframes = 50, fps = 50, width = 1500, height = 1080, end_pause = 20, rewind = FALSE, renderer = gifski_renderer(loop = FALSE))
anim_save("Images/Part2/Oyster_angulata.gif", animation = rendered)
dplyr::filter(Species != "C. gigas")
colscale <- c("C. gigas" = "#377eb8","O. edulis" = "#e41a1c","C. angulata" = "#4daf4a")
p <- ggplot(df2,
aes(x = YEAR,
y = Production,
color = Species,
group = Species,
along = alongVar)) +
geom_line(size = 1.2) +
scale_color_manual(values = colscale) +
ylim(c(0,max_prod))+
xlim(c(1900,2010))+
labs(
title = "Production over Years by Species",
x = "Year",
y = "Production (Tons)",
color = "Species"
) +
theme_bw(base_size = 14) +
theme(
plot.title  = element_text(hjust = 0.5, face = "bold", size = 40),
legend.position = c(0.2,0.8),
legend.text = element_text(face = "italic", size = 30),
legend.title = element_text(size = 35),
legend.key.size = unit(1,"cm"),
axis.text.x = element_text(size = 30),
axis.text.y = element_text(size = 30),
axis.title.x = element_text(size = 35),
axis.title.y = element_text(size = 35),
) +
transition_reveal(alongVar)
# render it
# animate(p, nframes = 50, fps = 50, width = 800, height = 600, loop = F)
rendered <- animate(p,  nframes = 50, fps = 50, width = 1500, height = 1080, end_pause = 20, rewind = FALSE, renderer = gifski_renderer(loop = FALSE))
p
df2 <- df %>%
mutate(alongVar = if_else(Species == "C. angulata", YEAR, min_year)) %>%
dplyr::filter(Species != "C. gigas")
colscale <- c("C. gigas" = "#377eb8","O. edulis" = "#e41a1c","C. angulata" = "#4daf4a")
p <- ggplot(df2,
aes(x = YEAR,
y = Production,
color = Species,
group = Species,
along = alongVar)) +
geom_line(size = 1.2) +
scale_color_manual(values = colscale) +
ylim(c(0,max_prod))+
xlim(c(1900,2010))+
labs(
title = "Production over Years by Species",
x = "Year",
y = "Production (Tons)",
color = "Species"
) +
theme_bw(base_size = 14) +
theme(
plot.title  = element_text(hjust = 0.5, face = "bold", size = 40),
legend.position = c(0.2,0.8),
legend.text = element_text(face = "italic", size = 30),
legend.title = element_text(size = 35),
legend.key.size = unit(1,"cm"),
axis.text.x = element_text(size = 30),
axis.text.y = element_text(size = 30),
axis.title.x = element_text(size = 35),
axis.title.y = element_text(size = 35),
) +
transition_reveal(alongVar)
# render it
# animate(p, nframes = 50, fps = 50, width = 800, height = 600, loop = F)
rendered <- animate(p,  nframes = 50, fps = 50, width = 1500, height = 1080, end_pause = 20, rewind = FALSE, renderer = gifski_renderer(loop = FALSE))
anim_save("Images/Part2/Oyster_angulata.gif", animation = rendered)
df <- readxl::read_excel("Data/Part2/Prod_oyster.xlsx") %>%
mutate(across(-YEAR, ~ interpolate_column(.x, YEAR))) %>%
pivot_longer(-YEAR, names_to = "Species", values_to = "Production") %>%
mutate(Production = case_when(Production == -99 ~ NA,
T ~ Production),
Species = case_when(Species == "angulata" ~ "C. angulata",
Species == "Edulis" ~ "O. edulis",
T ~ "C. gigas"),
years = YEAR)
df %>%
ggplot(aes(x = YEAR, y = Production, color = Species)) +
geom_line(size = 1.2) + # thicker lines
scale_color_brewer(palette = "Set1") + # nice color palette
labs(
title = "Production over Years by Species",
x = "Year",
y = "Production (Tons)",
color = "Species"
) +
theme_minimal(base_size = 14) + # clean theme with bigger base text
theme(
plot.title = element_text(hjust = 0.5, face = "bold"),
legend.position = "right",
legend.text = element_text(face = "italic") # italic legend text
)
min_year <- min(df$YEAR, na.rm = TRUE)
max_prod <- max(df$Production, na.rm = T)
df2 <- df %>%
mutate(alongVar = if_else(Species == "C. angulata", YEAR, min_year)) %>%
dplyr::filter(Species != "C. gigas")
colscale <- c("C. gigas" = "#377eb8","O. edulis" = "#e41a1c","C. angulata" = "#4daf4a")
p <- ggplot(df2,
aes(x = YEAR,
y = Production,
color = Species,
group = Species,
along = alongVar)) +
geom_line(size = 1.2) +
scale_color_manual(values = colscale) +
ylim(c(0,max_prod))+
xlim(c(1900,2010))+
labs(
title = "Production over Years by Species",
x = "Year",
y = "Production (Tons)",
color = "Species"
) +
theme_bw(base_size = 14) +
theme(
plot.title  = element_text(hjust = 0.5, face = "bold", size = 40),
legend.position = c(0.2,0.8),
legend.text = element_text(face = "italic", size = 30),
legend.title = element_text(size = 35),
legend.key.size = unit(1,"cm"),
axis.text.x = element_text(size = 30),
axis.text.y = element_text(size = 30),
axis.title.x = element_text(size = 35),
axis.title.y = element_text(size = 35),
) +
transition_reveal(alongVar)
# render it
# animate(p, nframes = 50, fps = 50, width = 800, height = 600, loop = F)
rendered <- animate(p,  nframes = 50, fps = 50, width = 1500, height = 1080, end_pause = 20, rewind = FALSE, renderer = gifski_renderer(loop = FALSE))
anim_save("Images/Part2/Oyster_angulata.gif", animation = rendered)
df2 <- df %>%
mutate(alongVar = if_else(Species == "C. gigas", YEAR, min_year))
colscale <- c("C. gigas" = "#377eb8","O. edulis" = "#e41a1c","C. angulata" = "#4daf4a")
p <- ggplot(df2,
aes(x = YEAR,
y = Production,
color = Species,
group = Species,
along = alongVar)) +
geom_line(size = 1.2) +
scale_color_manual(values = colscale) +
ylim(c(0,max_prod))+
xlim(c(1900,2010))+
labs(
title = "Production over Years by Species",
x = "Year",
y = "Production (Tons)",
color = "Species"
) +
theme_bw(base_size = 14) +
theme(
plot.title  = element_text(hjust = 0.5, face = "bold", size = 40),
legend.position = c(0.2,0.8),
legend.text = element_text(face = "italic", size = 30),
legend.title = element_text(size = 35),
legend.key.size = unit(1,"cm"),
axis.text.x = element_text(size = 30),
axis.text.y = element_text(size = 30),
axis.title.x = element_text(size = 35),
axis.title.y = element_text(size = 35),
) +
transition_reveal(alongVar)
# render it
# animate(p, nframes = 50, fps = 50, width = 800, height = 600, loop = F)
rendered <- animate(p,  nframes = 50, fps = 50, width = 1500, height = 1080, end_pause = 20, rewind = FALSE, renderer = gifski_renderer(loop = FALSE))
anim_save("Images/Part2/Oyster_angulata.gif", animation = rendered)
df2 <- df %>%
mutate(alongVar = if_else(Species == "C. angulata", YEAR, min_year))
df2 <- df %>%
mutate(alongVar = if_else(Species == "C. angulata", YEAR, min_year)) %>%
dplyr::filter(Species != "C. gigas")
colscale <- c("C. gigas" = "#377eb8","O. edulis" = "#e41a1c","C. angulata" = "#4daf4a")
p <- ggplot(df2,
aes(x = YEAR,
y = Production,
color = Species,
group = Species,
along = alongVar)) +
geom_line(size = 1.2) +
scale_color_manual(values = colscale) +
ylim(c(0,max_prod))+
xlim(c(1900,2010))+
labs(
title = "Production over Years by Species",
x = "Year",
y = "Production (Tons)",
color = "Species"
) +
theme_bw(base_size = 14) +
theme(
plot.title  = element_text(hjust = 0.5, face = "bold", size = 40),
legend.position = c(0.2,0.8),
legend.text = element_text(face = "italic", size = 30),
legend.title = element_text(size = 35),
legend.key.size = unit(1,"cm"),
axis.text.x = element_text(size = 30),
axis.text.y = element_text(size = 30),
axis.title.x = element_text(size = 35),
axis.title.y = element_text(size = 35),
) +
transition_reveal(alongVar)
# render it
# animate(p, nframes = 50, fps = 50, width = 800, height = 600, loop = F)
rendered <- animate(p,  nframes = 50, fps = 50, width = 1500, height = 1080, end_pause = 20, rewind = FALSE, renderer = gifski_renderer(loop = FALSE))
anim_save("Images/Part2/Oyster_angulata.gif", animation = rendered)
df2 <- df %>%
mutate(alongVar = if_else(Species == "C. angulata", YEAR, min_year)) %>%
dplyr::filter(Species != "C. gigas")
colscale <- c("C. gigas" = "#377eb8","O. edulis" = "#e41a1c","C. angulata" = "#4daf4a")
p <- ggplot(df2,
aes(x = YEAR,
y = Production,
color = Species,
group = Species,
along = alongVar)) +
geom_line(size = 1.2) +
scale_color_manual(values = colscale) +
ylim(c(0,max_prod))+
xlim(c(1900,2010))+
labs(
title = "Production over Years by Species",
x = "Year",
y = "Production (Thousand Metric Tons)",
color = "Species"
) +
theme_bw(base_size = 14) +
theme(
plot.title  = element_text(hjust = 0.5, face = "bold", size = 40),
legend.position = c(0.2,0.8),
legend.text = element_text(face = "italic", size = 30),
legend.title = element_text(size = 35),
legend.key.size = unit(1,"cm"),
axis.text.x = element_text(size = 30),
axis.text.y = element_text(size = 30),
axis.title.x = element_text(size = 35),
axis.title.y = element_text(size = 35),
) +
transition_reveal(alongVar)
# render it
# animate(p, nframes = 50, fps = 50, width = 800, height = 600, loop = F)
rendered <- animate(p,  nframes = 50, fps = 50, width = 1500, height = 1080, end_pause = 20, rewind = FALSE, renderer = gifski_renderer(loop = FALSE))
anim_save("Images/Part2/Oyster_angulata.gif", animation = rendered)
anim_save("Images/Part2/Oyster_gigas.gif", animation = rendered)
df2 <- df %>%
mutate(alongVar = if_else(Species == "C. gigas", YEAR, min_year))
colscale <- c("C. gigas" = "#377eb8","O. edulis" = "#e41a1c","C. angulata" = "#4daf4a")
p <- ggplot(df2,
aes(x = YEAR,
y = Production,
color = Species,
group = Species,
along = alongVar)) +
geom_line(size = 1.2) +
scale_color_manual(values = colscale) +
ylim(c(0,max_prod))+
xlim(c(1900,2010))+
labs(
title = "Production over Years by Species",
x = "Year",
y = "Production (Thousand Metric Tons)",
color = "Species"
) +
theme_bw(base_size = 14) +
theme(
plot.title  = element_text(hjust = 0.5, face = "bold", size = 40),
legend.position = c(0.2,0.8),
legend.text = element_text(face = "italic", size = 30),
legend.title = element_text(size = 35),
legend.key.size = unit(1,"cm"),
axis.text.x = element_text(size = 30),
axis.text.y = element_text(size = 30),
axis.title.x = element_text(size = 35),
axis.title.y = element_text(size = 35),
) +
transition_reveal(alongVar)
# render it
# animate(p, nframes = 50, fps = 50, width = 800, height = 600, loop = F)
rendered <- animate(p,  nframes = 50, fps = 50, width = 1500, height = 1080, end_pause = 20, rewind = FALSE, renderer = gifski_renderer(loop = FALSE))
anim_save("Images/Part2/Oyster_gigas.gif", animation = rendered)
